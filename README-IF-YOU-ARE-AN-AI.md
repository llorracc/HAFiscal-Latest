---

## WARNING: Do not modify this file.
  - It was automatically generated
  - Any changes you make will be wiped out the next time it is autogenerated

## Project Context: Econ-ARK
This repository, `HAFiscal-Latest`, is a component of the Econ-ARK project, an open-source platform for building and solving computational economic models. Understanding its role within the broader ecosystem is crucial for effective analysis.

- **Econ-ARK Website**: [https://econ-ark.org/](https://econ-ark.org/)
- **HARK Toolkit (Core Library)**: [https://github.com/econ-ark/HARK](https://github.com/econ-ark/HARK)
- **REMARKs (Replications)**: [https://github.com/econ-ark/REMARK](https://github.com/econ-ark/REMARK)

Please consult these resources to understand the relationships between the different parts of the project.

## 1. Repository Purpose

This repository contains the complete implementation of a sophisticated Heterogeneous Agent New Keynesian (HANK) model designed to analyze and compare the welfare and spending effects of various fiscal stimulus policies. It addresses the challenge of understanding how different households, with varying levels of income and wealth, respond to government interventions like stimulus checks or tax cuts. The primary audience for this repository is academic economists and macroeconomic policymakers who require a detailed, quantitative framework to evaluate the distributional consequences and aggregate effectiveness of fiscal policy.

## 2. Key Concepts and Abstractions

1.  **Heterogeneous Agent New Keynesian (HANK) Model**: The core of this repository is a HANK model, which departs from traditional representative agent models by incorporating household heterogeneity. This means the model explicitly includes households with different levels of wealth, income, and marginal propensities to consume (MPCs). This feature is essential for realistically evaluating fiscal policies, as the impact of a stimulus check depends heavily on who receives it. The model also includes New Keynesian features like sticky prices, which are crucial for fiscal policy to have real effects on output and employment.
2.  **Impulse Response Functions (IRFs)**: A primary output of the model, IRFs illustrate how the economy reacts over time to a specific shock, such as a sudden increase in government spending. By tracing the paths of key variables like aggregate consumption, inflation, and output, IRFs provide a dynamic picture of a policy's impact, allowing for a nuanced comparison between different stimulus strategies. The interactive dashboard is built around generating and visualizing these IRFs.
3.  **Fiscal Policy Scenarios & Welfare Analysis**: The repository is fundamentally a laboratory for fiscal policy experiments. It allows users to simulate various scenarios, such as universal stimulus payments versus targeted transfers, and to adjust parameters governing monetary policy responses (like the Taylor rule). Critically, it goes beyond measuring simple multipliers by conducting a formal welfare analysis to determine which policies are most beneficial from the perspective of the households in the model.
4.  **Model Calibration to Empirical Targets**: To ensure the model's predictions are quantitatively plausible, its parameters are disciplined by real-world data. The repository includes code dedicated to calibrating the model to match key empirical moments, particularly the distribution of wealth and the aggregate marginal propensity to consume (MPCX) out of transitory income, as estimated from external data sources like lottery winner surveys. This grounding in empirical evidence is vital for the credibility of the policy simulations.

## 3. Core Functionality & Key Files

-   `Code/HA-Models/FromPandemicCode/AggFiscalModel.py`: This file contains the central Python class that defines the HANK model. It is the engine of the repository, specifying the economic environment, agent behavior, market clearing, and the core logic for solving the model's equilibrium.
-   `Code/HA-Models/FromPandemicCode/AggFiscalMAIN.py`: This is the main script for running simulations. It instantiates the `AggFiscalModel`, configures policy experiments, solves the model, and generates key outputs like Impulse Response Functions (IRFs).
-   `dashboard/app.ipynb`: This Jupyter notebook provides an interactive dashboard (using Voila) for exploring the model's results. It is the most accessible entry point for understanding the model's behavior, as it allows users to change policy parameters and immediately visualize the impact on the economy.
-   `reproduce/reproduce_computed.sh`: This shell script is the authoritative guide to the repository's workflow. It orchestrates all the necessary steps to run the core computations and regenerate the figures and tables for the associated academic paper, providing a clear and replicable path from code to final results.
-   `Code/HA-Models/Target_AggMPCX_LiquWealth/`: This directory is crucial for understanding the model's empirical grounding. It contains the scripts and data used to calibrate key model parameters, ensuring that the model's behavior is consistent with observed household behavior in the real world.

## 4. AI Search and Analysis Strategy

-   **Most Effective Entry Point**: Start with the `dashboard/app.ipynb` notebook. Running it provides an immediate, interactive understanding of the model's core trade-offs and the effects of different policy parameters. For a deeper, code-level analysis, the next step is to trace the execution flow starting from `Code/HA-Models/FromPandemicCode/AggFiscalMAIN.py`, which orchestrates the full simulation pipeline.
-   **Common Pitfalls to Avoid**:
    -   Be aware of the `FromPandemicCode` directory name. While the model may have originated from research related to the COVID-19 pandemic, its application is to general fiscal policy. Do not assume its scope is limited to that specific historical event.
    -   The repository contains multiple files named `do_all.py` or `environment.yml`. Always refer to the scripts in the `reproduce/` directory to identify the authoritative scripts and environment configurations for generating the paper's official results. The root `environment.yml` is the correct one for the dashboard.
-   **High-Yield Search Terms**:
    -   For the core economic model: `"AggFiscalModel"`, `"HANK"`, `"solve_model"`, `"equilibrium"`, `"household"`.
    -   For policy experiments and results: `"IRF"`, `"impulse response"`, `"fiscal multiplier"`, `"welfare"`, `"stimulus"`.
    -   For empirical grounding: `"calibration"`, `"estimation"`, `"MPCX"`, `"target"`.

---
